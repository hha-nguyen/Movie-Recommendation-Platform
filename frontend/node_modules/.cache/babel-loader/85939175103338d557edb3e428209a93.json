{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/home/mesto/Projects/clonenetflix/react-frontend/src/components/DetailContent.js\";\nimport React, { Component } from \"react\";\nimport { Modal } from \"reactstrap\";\nimport MovieApiService from \"../apis/MovieApiService\";\nimport FavoriteMovieApiService from \"../apis/FavoriteMovieApiService\";\nimport CommentApiService from \"../apis/CommentApiService\";\nimport * as Icon from \"react-bootstrap-icons\";\nimport Comments from \"./Comments\";\n\nclass DetailContentCompoent extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleMovieSave = async () => {\n      var temp = {\n        movie_id: this.state.id,\n        movie_original_title: this.props.movie.original_title,\n        poster_path: this.props.movie.poster_path,\n        userId: window.sessionStorage.getItem(\"user\") //user_email : JSON.parse(window.sessionStorage.getItem(\"user\")).userEmail,\n\n      };\n      console.log(temp); // Save only when there is a user session value (login)\n\n      if (sessionStorage.getItem('user') != null) {\n        await FavoriteMovieApiService.addMovie(temp).then(res => {\n          console.log(res.data); //// Determining whether the movie is on my wish list or not.\n\n          if (res.data === 'success') {\n            console.info('save success', this.props.databaseid);\n            alert(\"I wished\");\n            this.setState({\n              modal: false\n            });\n          } else {\n            alert(\"It's already on your wishlist.\");\n            this.setState({\n              modal: false\n            });\n          }\n        }).catch(err => {\n          console.error('ApiService.addMovies Error', err);\n          alert('Wish list save error\\nPlease contact the administrator');\n        }); ////If you are not logged in, move to the login screen when you click the wish button\n      } else {\n        alert('It is available after login.');\n        window.location.href = \"http://localhost:3000/login\";\n      }\n    };\n\n    this.handleMovieDelete = async () => {\n      await FavoriteMovieApiService.removeMovie2(this.state.id).then(res => {\n        console.info('deletion success', res.state);\n        console.log(res.data);\n\n        if (res.data === 'success') {\n          alert(\"Deleted.\"); //When deleting from the My Favorites page\n\n          if (document.location.href === \"http://localhost:3000/myContent\") {\n            this.props.loadFavoriteMovie();\n            this.setState({\n              modal: false\n            });\n          } else {\n            //When deleting from another screen\n            this.setState({\n              modal: false\n            });\n          }\n        } else {\n          // When you click the delete button on the unlisted list\n          alert('Its not on my wish list.');\n          return;\n        }\n      }).catch(err => {\n        console.error('ApiService.removeMovie Error', err);\n        alert('Wish list deletion error\\nPlease contact the administrator');\n      });\n    };\n\n    this.getAllInfo = () => {\n      this.getMovieDetails(); // this.getMovieCredits();\n\n      this.getCommentListByMovie();\n    };\n\n    this.getMovieDetails = async () => {\n      let res = await MovieApiService.getMovieDetails(this.state.id);\n      let genres = res.genres.map(item => {\n        return item.name;\n      });\n      this.setState({\n        details: res,\n        genres: genres\n      }, () => {\n        console.log(\"Details value when clicked!\", this.state.details);\n        console.log(\"this.state.poster_image : \", this.state.poster_image); // console.log('Genre value when pressed!', this.state.genres);\n      });\n    };\n\n    this.getCommentListByMovie = async () => {\n      let res = await CommentApiService.getCommentListByMovie(this.state.id);\n      let commentList = res.data;\n      this.setState({\n        comments: commentList\n      }, () => {\n        console.log(\"Comment information!!!!\");\n        console.log(this.state.comments);\n      });\n    };\n\n    this.seperactor = Array => {\n      var seperactor = \",\";\n      var tempString = \"\";\n\n      for (var i = 0; i < Array.length; i++) {\n        if (i < Array.length - 1) {\n          tempString += Array[i] + seperactor;\n        } else if (i === Array.length - 1) {\n          tempString += Array[i];\n        }\n      }\n\n      return tempString;\n    };\n\n    this.toggle = () => {\n      this.setState({\n        modal: !this.state.modal\n      });\n    };\n\n    this.handleText = e => {\n      this.setState({\n        [e.target.name]: e.target.value\n      });\n    };\n\n    this.writeMovieComment = () => {\n      let userId = sessionStorage.getItem(\"user\"); //Check the session value to see if you are logged in\n\n      if (userId == null) {\n        alert(\"Login is required\"); //Send to login page\n\n        window.location.href = \"http://localhost:3000/login\";\n      }\n\n      let content = this.state.content; //object creation\n\n      CommentApiService.writeMovieComment(content, userId, this.state.id).then(res => {\n        console.log(res.data);\n        let result = res.data;\n\n        if (result != null) {\n          alert(\"Completion of comment\");\n          this.getCommentListByMovie(); //Reset your comments\n\n          this.setState({\n            content: \"\"\n          });\n        }\n      }).catch(err => console.log(err));\n    };\n\n    this.deleteComment = (id, userId) => {\n      // console.log(typeof this.props.userId); //number\n      // console.log(typeof sessionStorage.getItem(\"user\")); //string\n      console.log(id); //ID value of the comment!\n\n      console.log(userId); //If the logged in user and the commenter are the same person, it can be deleted\n\n      if (sessionStorage.getItem(\"user\") === userId.toString()) {\n        CommentApiService.deleteComment(id).then(res => {\n          console.log(res.data); //deletion success\n\n          if (res.status === 200) {\n            alert(\"Comment has been deleted\"); //Reload the comment list after deletion\n\n            this.getCommentListByMovie();\n          }\n        }).catch(err => console.log(err));\n      }\n    };\n\n    this.state = {\n      userId: this.props.userId,\n      id: this.props.id,\n      movie: this.props.movie,\n      modal: false,\n      //Default modal value false\n      details: {},\n      genres: [],\n      //// Show the poster image as it is\n      poster_image: \"http://d37j0hhum58wlu.cloudfront.net\" + this.props.movie.posterPath,\n      content: \"\" //comment\n\n    };\n  } //Add to wish list\n\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"btn bg-transparent\",\n        onClick: this.toggle,\n        children: this.state.poster_image === \"http://image.tmdb.org/t/p/w500null\" ? /*#__PURE__*/_jsxDEV(\"img\", {\n          alt: \"\",\n          src: \"https://i.ytimg.com/vi/GV3HUDMQ-F8/maxresdefault.jpg\",\n          height: \"270\",\n          width: \"180\",\n          style: {\n            margin: \"5px\"\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 223,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(\"img\", {\n          src: this.state.poster_image,\n          width: \"180px\",\n          alt: \"new\",\n          style: {\n            borderRadius: 5\n          },\n          onClick: this.getAllInfo\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 231,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 220,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Modal, {\n        isOpen: this.state.modal,\n        toggle: this.toggle,\n        size: \"lg\",\n        className: \"my-modal\",\n        style: {\n          maxWidth: \"900px\",\n          width: \"80%\"\n        },\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"container\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"row\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              onClick: this.toggle,\n              style: {\n                paddingRight: \"10px\",\n                margin: \"5px\",\n                textDecoration: \"none\",\n                color: \"#777777\",\n                fontWeight: \"bold\",\n                fontSize: \"x-large\",\n                flex: \"1\",\n                textAlign: \"right\"\n              },\n              children: /*#__PURE__*/_jsxDEV(Icon.XCircleFill, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 262,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 249,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 248,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"row\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"vedio\",\n                children: [this.state.key ? /*#__PURE__*/_jsxDEV(\"iframe\", {\n                  title: \"Youtube Video Player\",\n                  className: \"video\",\n                  allowFullScreen: true,\n                  frameBorder: \"0\",\n                  style: {\n                    width: \"100%\",\n                    height: \"50vh\",\n                    margin: 0,\n                    padding: 0\n                  },\n                  allow: \"autoplay\",\n                  src: this.state.key\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 269,\n                  columnNumber: 21\n                }, this) : \"There is no Youtube video\", /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n                    style: {\n                      color: \"white\"\n                    },\n                    children: this.state.details && this.state.details.title\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 288,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    style: {\n                      flexDirection: \"row\"\n                    },\n                    children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                      className: \"btn btn-light btn-lg\",\n                      type: \"button\",\n                      value: \"\\u25B6 play\",\n                      style: {\n                        margin: 5\n                      },\n                      onClick: () => window.open(`${this.state.key}`, \"_blank\")\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 292,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                      className: \"btn btn-light btn-lg\",\n                      type: \"button\",\n                      value: \"\\u2764\",\n                      style: {\n                        margin: 5,\n                        borderRadius: 20\n                      },\n                      onClick: () => this.handleMovieSave()\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 301,\n                      columnNumber: 23\n                    }, this), sessionStorage.getItem(\"user\") != null ? /*#__PURE__*/_jsxDEV(\"input\", {\n                      className: \"btn btn-light btn-lg\",\n                      type: \"button\",\n                      value: \"\\u274C \",\n                      style: {\n                        margin: 5,\n                        borderRadius: 20\n                      },\n                      onClick: () => this.handleMovieDelete(this.state.id)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 309,\n                      columnNumber: 25\n                    }, this) : '']\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 291,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 287,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 267,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 266,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 265,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"row\",\n            style: {\n              paddingLeft: \"24px\",\n              marginTop: 15\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-8\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"content1\",\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"contentFont\",\n                  children: [this.state.details.release_date && this.state.details.release_date, \" \", this.state.details.runtime && this.state.details.runtime, \"\\uBD84\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 325,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"contentFont\",\n                  style: {\n                    marginTop: 15\n                  },\n                  children: this.state.details.overview ? this.state.details.overview : \"No plot summary\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 330,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 324,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 323,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-4\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"content2\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  style: {\n                    flexDirection: \"row\",\n                    marginBottom: 10\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    style: {\n                      textDecoration: \"none\",\n                      color: \"#777777\"\n                    },\n                    children: \"\\uCD9C\\uC5F0\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 340,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"detailFont\",\n                    children: this.state.cast && this.seperactor(this.state.cast)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 343,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 339,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  style: {\n                    flexDirection: \"row\",\n                    marginBottom: 10\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    style: {\n                      textDecoration: \"none\",\n                      color: \"#777777\"\n                    },\n                    children: \"\\uC7A5\\uB974\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 348,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"detailFont\",\n                    children: this.state.genres && this.seperactor(this.state.genres)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 351,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 347,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 338,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 337,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 322,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"row\",\n            style: {\n              paddingLeft: \"24px\",\n              marginTop: 20\n            },\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col\",\n              children: [/*#__PURE__*/_jsxDEV(\"form\", {\n                className: \"form-inline\",\n                style: {\n                  width: \"100%\"\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"textarea\", {\n                  placeholder: \"Please enter a comment\",\n                  className: \"form-control\",\n                  rows: \"2\",\n                  cols: \"100\",\n                  name: \"content\",\n                  value: this.state.content,\n                  onChange: e => this.handleText(e)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 361,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  type: \"button\",\n                  className: \"btn btn-danger btn-lg\",\n                  style: {\n                    margin: 10\n                  },\n                  onClick: () => this.writeMovieComment(),\n                  children: \"\\uB313\\uAE00\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 370,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 360,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"comment\",\n                children: this.state.comments ? this.state.comments.map(item => {\n                  return /*#__PURE__*/_jsxDEV(Comments, {\n                    id: item.id,\n                    movie_id: item.movie_id,\n                    userId: item.userId,\n                    content: item.content,\n                    deleteComment: this.deleteComment\n                  }, item.id, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 383,\n                    columnNumber: 27\n                  }, this);\n                }) : \"\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 379,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 359,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 358,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 247,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 240,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 219,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default DetailContentCompoent;","map":{"version":3,"sources":["/home/mesto/Projects/clonenetflix/react-frontend/src/components/DetailContent.js"],"names":["React","Component","Modal","MovieApiService","FavoriteMovieApiService","CommentApiService","Icon","Comments","DetailContentCompoent","constructor","props","handleMovieSave","temp","movie_id","state","id","movie_original_title","movie","original_title","poster_path","userId","window","sessionStorage","getItem","console","log","addMovie","then","res","data","info","databaseid","alert","setState","modal","catch","err","error","location","href","handleMovieDelete","removeMovie2","document","loadFavoriteMovie","getAllInfo","getMovieDetails","getCommentListByMovie","genres","map","item","name","details","poster_image","commentList","comments","seperactor","Array","tempString","i","length","toggle","handleText","e","target","value","writeMovieComment","content","result","deleteComment","toString","status","posterPath","render","margin","borderRadius","maxWidth","width","paddingRight","textDecoration","color","fontWeight","fontSize","flex","textAlign","key","height","padding","title","flexDirection","open","paddingLeft","marginTop","release_date","runtime","overview","marginBottom","cast"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { Modal } from \"reactstrap\";\nimport MovieApiService from \"../apis/MovieApiService\";\nimport FavoriteMovieApiService from \"../apis/FavoriteMovieApiService\";\nimport CommentApiService from \"../apis/CommentApiService\";\nimport * as Icon from \"react-bootstrap-icons\";\nimport Comments from \"./Comments\";\n\nclass DetailContentCompoent extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      userId: this.props.userId,\n      id: this.props.id,\n      movie: this.props.movie,\n      modal: false, //Default modal value false\n      details: {},\n      genres: [],\n      //// Show the poster image as it is\n      poster_image:\n        \"http://d37j0hhum58wlu.cloudfront.net\" + this.props.movie.posterPath,\n      content: \"\", //comment\n    };\n  }\n //Add to wish list\n handleMovieSave = async () => {\n  var temp = {\n    movie_id : this.state.id,\n    movie_original_title : this.props.movie.original_title,\n    poster_path : this.props.movie.poster_path,\n    userId : window.sessionStorage.getItem(\"user\"),\n    //user_email : JSON.parse(window.sessionStorage.getItem(\"user\")).userEmail,\n  };\n  console.log(temp);\n  // Save only when there is a user session value (login)\n  if(sessionStorage.getItem('user') != null){\n    await FavoriteMovieApiService.addMovie(temp)\n      .then(res => {\n        console.log(res.data);\n        //// Determining whether the movie is on my wish list or not.\n        if (res.data === 'success') {\n          console.info('save success', this.props.databaseid);\n          alert(\"I wished\");\n          this.setState({\n            modal: false,\n          })\n        } else {\n          alert(\"It's already on your wishlist.\");\n          this.setState({\n            modal: false,\n          })\n        }\n      })\n      .catch(err => {\n        console.error('ApiService.addMovies Error', err);\n        alert('Wish list save error\\nPlease contact the administrator');\n      })\n      ////If you are not logged in, move to the login screen when you click the wish button\n  } else {\n    alert('It is available after login.');\n    window.location.href=\"http://localhost:3000/login\";\n  }\n}\n\n  //delete wish list\n  handleMovieDelete = async () => {\n    \n    await FavoriteMovieApiService.removeMovie2(this.state.id)\n    .then(res => {\n      console.info('deletion success', res.state);\n      console.log(res.data);\n      if(res.data === 'success') {\n        alert(\"Deleted.\");\n        //When deleting from the My Favorites page\n        if(document.location.href === \"http://localhost:3000/myContent\") {\n          this.props.loadFavoriteMovie();\n          this.setState({\n            modal: false,\n          });\n        }\n        else {  //When deleting from another screen\n          this.setState({\n            modal: false,\n          });\n        }\n      }\n      else {  // When you click the delete button on the unlisted list\n        alert('Its not on my wish list.');\n        return;\n      }\n    })\n    .catch(err => {\n      console.error('ApiService.removeMovie Error', err);\n      alert('Wish list deletion error\\nPlease contact the administrator');\n    })\n}\n\n  //A method that calls all necessary data when an image is clicked\n  getAllInfo = () => {\n    this.getMovieDetails();\n    // this.getMovieCredits();\n    this.getCommentListByMovie();\n  };\n\n  //Method to get movie details\n  getMovieDetails = async () => {\n    let res = await MovieApiService.getMovieDetails(this.state.id);\n    let genres = res.genres.map((item) => {\n      return item.name;\n    });\n    this.setState(\n      {\n        details: res,\n        genres: genres,\n      },\n      () => {\n        console.log(\"Details value when clicked!\", this.state.details);\n        console.log(\"this.state.poster_image : \", this.state.poster_image);\n        // console.log('Genre value when pressed!', this.state.genres);\n      }\n    );\n  };\n  //Method to get the list of participating actors\n  // getMovieCredits = async () => {\n  //   let res = await MovieApiService.getCredits(this.state.id);\n  //   let cast = res.data.cast.slice(0, 6).map((item) => {\n  //     return item.name;\n  //   });\n  //   // console.log('Participating staff information:', res.data);\n  //   // console.log('Participating actors:', res.data.cast);\n  //   this.setState(\n  //     {\n  //       cast: cast,\n  //     },\n  //     () => {\n  //       // console.log('Cast value when pressed!', this.state.cast);\n  //     }\n  //   );\n  // };\n\n  //Method to get list of comments\n  getCommentListByMovie = async () => {\n    let res = await CommentApiService.getCommentListByMovie(this.state.id);\n    let commentList = res.data;\n    this.setState({ comments: commentList }, () => {\n      console.log(\"Comment information!!!!\");\n      console.log(this.state.comments);\n    });\n  };\n  //A method that converts the received array into a comma-separated string.\n  seperactor = (Array) => {\n    var seperactor = \",\";\n    var tempString = \"\";\n    for (var i = 0; i < Array.length; i++) {\n      if (i < Array.length - 1) {\n        tempString += Array[i] + seperactor;\n      } else if (i === Array.length - 1) {\n        tempString += Array[i];\n      }\n    }\n    return tempString;\n  };\n\n  //A method that reverses true and false values\n  toggle = () => {\n    this.setState({ modal: !this.state.modal });\n  };\n  //State handler according to content change when commenting\n  handleText = (e) => {\n    this.setState({ [e.target.name]: e.target.value });\n  };\n  //Write a comment\n  writeMovieComment = () => {\n    let userId = sessionStorage.getItem(\"user\");\n    //Check the session value to see if you are logged in\n    if (userId == null) {\n      alert(\"Login is required\");\n      //Send to login page\n      window.location.href = \"http://localhost:3000/login\";\n    }\n    let content = this.state.content;\n    \n    //object creation\n    CommentApiService.writeMovieComment(content, userId, this.state.id)\n      .then((res) => {\n        console.log(res.data);\n        let result = res.data;\n        if (result != null) {\n          alert(\"Completion of comment\");\n          this.getCommentListByMovie();\n          //Reset your comments\n          this.setState({ content: \"\" });\n        }\n      })\n      .catch((err) => console.log(err));\n  };\n  //Delete comment\n  deleteComment = (id, userId) => {\n    // console.log(typeof this.props.userId); //number\n    // console.log(typeof sessionStorage.getItem(\"user\")); //string\n    console.log(id); //ID value of the comment!\n    console.log(userId);\n    //If the logged in user and the commenter are the same person, it can be deleted\n    if (sessionStorage.getItem(\"user\") === userId.toString()) {\n      CommentApiService.deleteComment(id)\n        .then((res) => {\n          console.log(res.data); //deletion success\n          if (res.status === 200) {\n            alert(\"Comment has been deleted\");\n            //Reload the comment list after deletion\n            this.getCommentListByMovie();\n          }\n        })\n        .catch((err) => console.log(err));\n    }\n  };\n  render() {\n    return (\n      <div>\n        <div className=\"btn bg-transparent\" onClick={this.toggle}>\n          {/* {images} */}\n          {this.state.poster_image === \"http://image.tmdb.org/t/p/w500null\" ? (\n            <img\n              alt=\"\"\n              src={\"https://i.ytimg.com/vi/GV3HUDMQ-F8/maxresdefault.jpg\"}\n              height=\"270\"\n              width=\"180\"\n              style={{ margin: \"5px\" }}\n            />\n          ) : (\n            <img\n              src={this.state.poster_image}\n              width=\"180px\"\n              alt=\"new\"\n              style={{ borderRadius: 5 }}\n              onClick={this.getAllInfo}\n            />\n          )}\n        </div>\n        <Modal\n          isOpen={this.state.modal}\n          toggle={this.toggle}\n          size=\"lg\"\n          className=\"my-modal\"\n          style={{ maxWidth: \"900px\", width: \"80%\" }}\n        >\n          <div className=\"container\">\n            <div className=\"row\">\n              <div\n                onClick={this.toggle}\n                style={{\n                  paddingRight: \"10px\",\n                  margin: \"5px\",\n                  textDecoration: \"none\",\n                  color: \"#777777\",\n                  fontWeight: \"bold\",\n                  fontSize: \"x-large\",\n                  flex: \"1\",\n                  textAlign: \"right\",\n                }}\n              >\n                <Icon.XCircleFill />\n              </div>\n            </div>\n            <div className=\"row\">\n              <div className=\"col\">\n                <div className=\"vedio\">\n                  {this.state.key ? (\n                    <iframe\n                      title=\"Youtube Video Player\"\n                      className=\"video\"\n                      allowFullScreen\n                      frameBorder=\"0\"\n                      style={{\n                        width: \"100%\",\n                        height: \"50vh\",\n                        margin: 0,\n                        padding: 0,\n                      }}\n                      allow=\"autoplay\"\n                      src={this.state.key}\n                    ></iframe>\n                  ) : (\n                    \"There is no Youtube video\"\n                  )}\n\n                  <div>\n                    <h1 style={{ color: \"white\" }}>\n                      {this.state.details && this.state.details.title}\n                    </h1>\n                    <div style={{ flexDirection: \"row\" }}>\n                      <input\n                        className=\"btn btn-light btn-lg\"\n                        type=\"button\"\n                        value=\"▶ play\"\n                        style={{ margin: 5 }}\n                        onClick={() =>\n                          window.open(`${this.state.key}`, \"_blank\")\n                        }\n                      />\n                      <input\n                          className=\"btn btn-light btn-lg\"\n                          type=\"button\"\n                          value=\"❤\"\n                          style={{ margin: 5, borderRadius: 20 }}\n                          onClick={() => this.handleMovieSave()}\n                        />\n                      {sessionStorage.getItem(\"user\") != null ?\n                        <input\n                          className=\"btn btn-light btn-lg\"\n                          type=\"button\"\n                          value=\"❌ \"\n                          style={{ margin: 5, borderRadius: 20 }}\n                          onClick={() => this.handleMovieDelete(this.state.id)}\n                        />\n                        :''}\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n            <div className=\"row\" style={{ paddingLeft: \"24px\", marginTop: 15 }}>\n              <div className=\"col-8\">\n                <div className=\"content1\">\n                  <p className=\"contentFont\">\n                    {this.state.details.release_date &&\n                      this.state.details.release_date}{\" \"}\n                    {this.state.details.runtime && this.state.details.runtime}분\n                  </p>\n                  <p className=\"contentFont\" style={{ marginTop: 15 }}>\n                    {this.state.details.overview\n                      ? this.state.details.overview\n                      : \"No plot summary\"}\n                  </p>\n                </div>\n              </div>\n              <div className=\"col-4\">\n                <div className=\"content2\">\n                  <div style={{ flexDirection: \"row\", marginBottom: 10 }}>\n                    <div style={{ textDecoration: \"none\", color: \"#777777\" }}>\n                      출연\n                    </div>\n                    <div className=\"detailFont\">\n                      {this.state.cast && this.seperactor(this.state.cast)}\n                    </div>\n                  </div>\n                  <div style={{ flexDirection: \"row\", marginBottom: 10 }}>\n                    <div style={{ textDecoration: \"none\", color: \"#777777\" }}>\n                      장르\n                    </div>\n                    <div className=\"detailFont\">\n                      {this.state.genres && this.seperactor(this.state.genres)}\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n            <div className=\"row\" style={{ paddingLeft: \"24px\", marginTop: 20 }}>\n              <div className=\"col\">\n                <form className=\"form-inline\" style={{ width: \"100%\" }}>\n                  <textarea\n                    placeholder=\"Please enter a comment\"\n                    className=\"form-control\"\n                    rows=\"2\"\n                    cols=\"100\"\n                    name=\"content\"\n                    value={this.state.content}\n                    onChange={(e) => this.handleText(e)}\n                  />\n                  <button\n                    type=\"button\"\n                    className=\"btn btn-danger btn-lg\"\n                    style={{ margin: 10 }}\n                    onClick={() => this.writeMovieComment()}\n                  >\n                    댓글\n                  </button>\n                </form>\n                <div className=\"comment\">\n                  {this.state.comments\n                    ? this.state.comments.map((item) => {\n                        return (\n                          <Comments\n                            key={item.id}\n                            id={item.id}\n                            movie_id={item.movie_id}\n                            userId={item.userId}\n                            content={item.content}\n                            deleteComment={this.deleteComment}\n                          />\n                        );\n                      })\n                    : \"\"}\n                </div>\n              </div>\n            </div>\n          </div>\n        </Modal>\n      </div>\n    );\n  }\n}\n\nexport default DetailContentCompoent;\n"]},"metadata":{},"sourceType":"module"}